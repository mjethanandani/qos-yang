<!--
    This example shows a QoS policy configuration for a priority
    queuing. For a description of the problem refer to:
    https://networklessons.com/quality-of-service/queuing-configuration-example
-->

<?xml version="1.0" encoding="UTF-8"?>
<classifiers
    xmlns="urn:ietf:params:xml:ns:yang:ietf-traffic-policy"
    xmlns:qt="urn:ietf:params:xml:ns:yang:iana-qos-types">
  <classifier>
    <name>VOICE</name>
    <description>class-map definition for VOICE</description>
    <filter>
      <type>qt:protocol</type>
      <logical-not>false</logical-not>
      <dscp
	  xmlns="urn:ietf:params:xml:ns:yang:ietf-diffserv">
        <dscp-min>46</dscp-min>
        <dscp-max>46</dscp-max>
      </dscp>
    </filter>
  </classifier>
  <classifier>
    <name>VIDEO</name>
    <description>class-map definition for VOICE</description>
    <filter>
      <type>qt:protocol</type>
      <logical-not>false</logical-not>
      <dscp
	  xmlns="urn:ietf:params:xml:ns:yang:ietf-diffserv">
        <dscp-min>34</dscp-min>
        <dscp-max>34</dscp-max>
      </dscp>
    </filter>
  </classifier>
  <classifier>
    <name>DATA</name>
    <description>class-map definition for VOICE</description>
    <filter>
      <type>qt:protocol</type>
      <logical-not>false</logical-not>
      <dscp
	  xmlns="urn:ietf:params:xml:ns:yang:ietf-diffserv">
        <dscp-min>10</dscp-min>
        <dscp-max>10</dscp-max>
      </dscp>
    </filter>
  </classifier>
</classifiers>

<policies
    xmlns="urn:ietf:params:xml:ns:yang:ietf-traffic-policy"
    xmlns:qt="urn:ietf:params:xml:ns:yang:iana-qos-types">
  <policy>
    <name>PRIORITY-QUEUING</name>
    <type>qt:diffserv-policy-type</type>
    <classifier>
      <name>VOICE</name>
      <action>
	<type>qt:queue</type>
	<queue
	    xmlns="urn:ietf:params:xml:ns:yang:ietf-diffserv">
	  <priority>
	    <priority-level>1</priority-level>
	  </priority>
	</queue>
      </action>
    </classifier>
    <classifier>
      <name>VIDEO</name>
      <action>
	<type>qt:queue</type>
	<queue
	    xmlns="urn:ietf:params:xml:ns:yang:ietf-diffserv">
	  <priority>
	    <priority-level>2</priority-level>
	  </priority>
	</queue>
      </action>
    </classifier>
    <classifier>
      <name>DATA</name>
      <action>
	<type>qt:queue</type>
	<queue
	    xmlns="urn:ietf:params:xml:ns:yang:ietf-diffserv">
	  <priority>
	    <priority-level>3</priority-level>
	  </priority>
	</queue>
      </action>
    </classifier>
  </policy>
</policies>

<interfaces
    xmlns="urn:ietf:params:xml:ns:yang:ietf-interfaces"
    xmlns:qt="urn:ietf:params:xml:ns:yang:iana-qos-types"
    xmlns:ianaift="urn:ietf:params:xml:ns:yang:iana-if-type">
  <interface>
    <name>FastEthernet 0/0</name>
    <type>ianaift:ethernetCsmacd</type>
    <qos-target-policy
	xmlns="urn:ietf:params:xml:ns:yang:ietf-traffic-policy">
      <direction>qt:outbound</direction>
      <type>qt:diffserv-policy-type</type>
      <name>PRIORITY-QUEUEING</name>
    </qos-target-policy>
  </interface>
</interfaces>
